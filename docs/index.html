<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easily Scrape and Process AFL Data • fitzRoy</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Easily Scrape and Process AFL Data">
<meta property="og:description" content="An easy to use tool for scraping and processing AFL data. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-77406420-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-77406420-2');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">fitzRoy</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/readme-vignette.html">Easily Scrape and Process AFL Data</a>
    </li>
    <li>
      <a href="articles/vignette-name.html">Vignette Title</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jimmyday12/fitzRoy">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="fitzroy" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#fitzroy" class="anchor"></a>fitzRoy <img src="reference/figures/fitz_hex.png" align="right" width="120" height="139">
</h1></div>

<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The goal of fitzRoy is to provide a set of functions that allows for users to easily get access to AFL data from sources such as afltables.com and footywire.com. There are also tools for processing and cleaning that data. Future versions will include basic ELO processing functions.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install fitzRoy from github with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"jimmyday12/fitzRoy"</span>)</code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The <code>fitzRoy</code> package can be used to simply get data from various sources. Some minimal working examples are below.</p>
<div id="getting-data" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-data" class="anchor"></a>Getting Data</h3>
<p>Primarily, the tool can be used to access data from various sources. Data is included in the package and can be access directly however this will not be up to date. Each source of data has functions for updating data during the season.</p>
</div>
<div id="afl-tables-match-results" class="section level3">
<h3 class="hasAnchor">
<a href="#afl-tables-match-results" class="anchor"></a>AFL Tables match results</h3>
<p>You can access the basic afl tables match results data. This includes all matches from 1897-current. It is generally updated on the day after a round finishes.</p>
<p>You can access the data directly from the package using <code>match_results</code>. This will be updated periodically but you will need to update your R package to get access to the latest data. It is better to use <code>get_match_results</code> directly, as this will give you up to date results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(fitzRoy)
results &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_match_results.html">get_match_results</a></span>()

<span class="kw">tail</span>(results)
<span class="co">#&gt; # A tibble: 6 x 16</span>
<span class="co">#&gt;    Game Date       Round Home.Team Home.Goals Home.Behinds Home.Points</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;          &lt;int&gt;        &lt;int&gt;       &lt;int&gt;</span>
<span class="co">#&gt; 1 15402 2018-09-08 QF    West Coa…         12           14          86</span>
<span class="co">#&gt; 2 15403 2018-09-14 SF    Melbourne         16            8         104</span>
<span class="co">#&gt; 3 15404 2018-09-15 SF    Collingw…          9           15          69</span>
<span class="co">#&gt; 4 15405 2018-09-21 PF    Collingw…         15            7          97</span>
<span class="co">#&gt; 5 15406 2018-09-22 PF    West Coa…         18           13         121</span>
<span class="co">#&gt; # ... with 1 more row, and 9 more variables: Away.Team &lt;chr&gt;,</span>
<span class="co">#&gt; #   Away.Goals &lt;int&gt;, Away.Behinds &lt;int&gt;, Away.Points &lt;int&gt;, Venue &lt;chr&gt;,</span>
<span class="co">#&gt; #   Margin &lt;int&gt;, Season &lt;dbl&gt;, Round.Type &lt;chr&gt;, Round.Number &lt;int&gt;</span></code></pre></div>
<p>You can also convert this format into a more analysis friendly “long” format using the helper function <code>convert_results</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results_long &lt;-<span class="st"> </span><span class="kw"><a href="reference/convert_results.html">convert_results</a></span>(results)

<span class="kw">head</span>(results_long)
<span class="co">#&gt; # A tibble: 6 x 13</span>
<span class="co">#&gt;    Game Date       Round Venue Margin Season Round.Type Round.Number Status</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;             &lt;int&gt; &lt;chr&gt; </span>
<span class="co">#&gt; 1     1 1897-05-08 R1    Brun…     33   1897 Regular               1 Home  </span>
<span class="co">#&gt; 2     1 1897-05-08 R1    Brun…    -33   1897 Regular               1 Away  </span>
<span class="co">#&gt; 3     2 1897-05-08 R1    Vict…     25   1897 Regular               1 Home  </span>
<span class="co">#&gt; 4     2 1897-05-08 R1    Vict…    -25   1897 Regular               1 Away  </span>
<span class="co">#&gt; 5     3 1897-05-08 R1    Cori…    -23   1897 Regular               1 Home  </span>
<span class="co">#&gt; # ... with 1 more row, and 4 more variables: Behinds &lt;chr&gt;, Goals &lt;chr&gt;,</span>
<span class="co">#&gt; #   Points &lt;chr&gt;, Team &lt;chr&gt;</span></code></pre></div>
</div>
<div id="afl-tables-player-results" class="section level3">
<h3 class="hasAnchor">
<a href="#afl-tables-player-results" class="anchor"></a>AFL Tables player results</h3>
<p>A new function will return all detailed player stats from afltables.com. Primarily, the easiest way to use this is simply to call <code>get_afltables_stats</code> with your required <code>start_date</code> and <code>end_date</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stats &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_afltables_stats.html">get_afltables_stats</a></span>(<span class="dt">start_date =</span> <span class="st">"2000-01-01"</span>, <span class="dt">end_date =</span> <span class="st">"2018-06-01"</span>)
<span class="co">#&gt; Returning data from 2000-01-01 to 2018-06-01</span>
<span class="co">#&gt; Finished getting afltables data</span>

<span class="kw">tail</span>(stats)
<span class="co">#&gt; # A tibble: 6 x 59</span>
<span class="co">#&gt; # Groups:   Season, Round, Home.team, Away.team [1]</span>
<span class="co">#&gt;   Season Round Date       Local.start.time Venue Attendance Home.team  HQ1G</span>
<span class="co">#&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;date&gt;                &lt;int&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3</span>
<span class="co">#&gt; 2   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3</span>
<span class="co">#&gt; 3   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3</span>
<span class="co">#&gt; 4   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3</span>
<span class="co">#&gt; 5   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3</span>
<span class="co">#&gt; # ... with 1 more row, and 51 more variables: HQ1B &lt;int&gt;, HQ2G &lt;int&gt;,</span>
<span class="co">#&gt; #   HQ2B &lt;int&gt;, HQ3G &lt;int&gt;, HQ3B &lt;int&gt;, HQ4G &lt;int&gt;, HQ4B &lt;int&gt;,</span>
<span class="co">#&gt; #   Home.score &lt;int&gt;, Away.team &lt;chr&gt;, AQ1G &lt;int&gt;, AQ1B &lt;int&gt;, AQ2G &lt;int&gt;,</span>
<span class="co">#&gt; #   AQ2B &lt;int&gt;, AQ3G &lt;int&gt;, AQ3B &lt;int&gt;, AQ4G &lt;int&gt;, AQ4B &lt;int&gt;,</span>
<span class="co">#&gt; #   Away.score &lt;int&gt;, First.name &lt;chr&gt;, Surname &lt;chr&gt;, ID &lt;int&gt;,</span>
<span class="co">#&gt; #   Jumper.No. &lt;dbl&gt;, Playing.for &lt;chr&gt;, Kicks &lt;dbl&gt;, Marks &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Handballs &lt;dbl&gt;, Goals &lt;dbl&gt;, Behinds &lt;dbl&gt;, Hit.Outs &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Tackles &lt;dbl&gt;, Rebounds &lt;dbl&gt;, Inside.50s &lt;dbl&gt;, Clearances &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Clangers &lt;dbl&gt;, Frees.For &lt;dbl&gt;, Frees.Against &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Brownlow.Votes &lt;dbl&gt;, Contested.Possessions &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Uncontested.Possessions &lt;dbl&gt;, Contested.Marks &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Marks.Inside.50 &lt;dbl&gt;, One.Percenters &lt;dbl&gt;, Bounces &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Goal.Assists &lt;dbl&gt;, Time.on.Ground.. &lt;int&gt;, Substitute &lt;int&gt;,</span>
<span class="co">#&gt; #   Umpire.1 &lt;chr&gt;, Umpire.2 &lt;chr&gt;, Umpire.3 &lt;chr&gt;, Umpire.4 &lt;chr&gt;,</span>
<span class="co">#&gt; #   group_id &lt;int&gt;</span></code></pre></div>
</div>
<div id="fixture" class="section level3">
<h3 class="hasAnchor">
<a href="#fixture" class="anchor"></a>Fixture</h3>
<p>You can access the fixture using <code>get_fixture</code> function. This will download the fixture for the current calendar year by default.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fixture &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_fixture.html">get_fixture</a></span>()

<span class="kw">head</span>(fixture)
<span class="co">#&gt; # A tibble: 6 x 7</span>
<span class="co">#&gt;   Date                Season Season.Game Round Home.Team  Away.Team Venue </span>
<span class="co">#&gt;   &lt;dttm&gt;               &lt;int&gt;       &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt; </span>
<span class="co">#&gt; 1 2018-03-22 19:25:00   2018           1     1 Richmond   Carlton   MCG   </span>
<span class="co">#&gt; 2 2018-03-23 19:50:00   2018           1     1 Essendon   Adelaide  Etiha…</span>
<span class="co">#&gt; 3 2018-03-24 15:35:00   2018           1     1 St Kilda   Brisbane… Etiha…</span>
<span class="co">#&gt; 4 2018-03-24 16:05:00   2018           1     1 Port Adel… Fremantle Adela…</span>
<span class="co">#&gt; 5 2018-03-24 18:25:00   2018           1     1 Gold Coast North Me… Cazal…</span>
<span class="co">#&gt; # ... with 1 more row</span></code></pre></div>
</div>
<div id="footywire-advanced-player-stats" class="section level3">
<h3 class="hasAnchor">
<a href="#footywire-advanced-player-stats" class="anchor"></a>Footywire Advanced Player Stats</h3>
<p>Footywire data is available in the form of advanced player match statistics from 2010 games onwards. This is when advanced statistics became available.</p>
<p>Footywire data from 2010-2017 is included in the package. This will be updated periodically but you will need to update your R package to get access to the latest data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Show the top of player_stats
<span class="kw">head</span>(fitzRoy<span class="op">::</span>player_stats)
<span class="co">#&gt;         Date Season   Round Venue         Player     Team Opposition</span>
<span class="co">#&gt; 1 2010-03-25   2010 Round 1   MCG Daniel Connors Richmond    Carlton</span>
<span class="co">#&gt; 2 2010-03-25   2010 Round 1   MCG Daniel Jackson Richmond    Carlton</span>
<span class="co">#&gt; 3 2010-03-25   2010 Round 1   MCG  Brett Deledio Richmond    Carlton</span>
<span class="co">#&gt; 4 2010-03-25   2010 Round 1   MCG    Ben Cousins Richmond    Carlton</span>
<span class="co">#&gt; 5 2010-03-25   2010 Round 1   MCG  Trent Cotchin Richmond    Carlton</span>
<span class="co">#&gt; 6 2010-03-25   2010 Round 1   MCG  Dustin Martin Richmond    Carlton</span>
<span class="co">#&gt;   Status Match_id CP UP ED   DE CM GA MI5 One.Percenters BO TOG  K HB  D M</span>
<span class="co">#&gt; 1   Home     5089  8 15 16 66.7  0  0   0              1  0  69 14 10 24 3</span>
<span class="co">#&gt; 2   Home     5089 11 10 14 60.9  1  0   0              0  0  80 11 12 23 2</span>
<span class="co">#&gt; 3   Home     5089  7 14 16 76.2  0  0   0              0  0  89 12  9 21 5</span>
<span class="co">#&gt; 4   Home     5089  9 10 11 57.9  0  1   0              0  0  69 13  6 19 1</span>
<span class="co">#&gt; 5   Home     5089  8 10 13 68.4  1  0   0              0  1  77 11  8 19 6</span>
<span class="co">#&gt; 6   Home     5089  6 12 16 88.9  0  0   0              1  0  81  5 13 18 4</span>
<span class="co">#&gt;   G B T HO GA1 I50 CL CG R50 FF FA AF SC CCL SCL SI MG TO ITC T5</span>
<span class="co">#&gt; 1 0 0 1  0   0   2  2  4   6  2  0 77 85  NA  NA NA NA NA  NA NA</span>
<span class="co">#&gt; 2 0 0 5  0   0   8  5  4   1  2  0 85 89  NA  NA NA NA NA  NA NA</span>
<span class="co">#&gt; 3 1 0 6  0   0   4  3  4   3  1  2 94 93  NA  NA NA NA NA  NA NA</span>
<span class="co">#&gt; 4 1 0 1  0   1   1  2  3   4  1  0 65 70  NA  NA NA NA NA  NA NA</span>
<span class="co">#&gt; 5 0 0 1  0   0   2  3  3   2  0  2 65 63  NA  NA NA NA NA  NA NA</span>
<span class="co">#&gt; 6 0 0 3  0   0   2  3  1   0  0  1 62 72  NA  NA NA NA NA  NA NA</span></code></pre></div>
<p>We can also use the <code>update_footywire_stats</code> function to get the most up to date data. This will merge data from 2010-current with any new data points.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Update footywire data
dat &lt;-<span class="st"> </span><span class="kw"><a href="reference/update_footywire_stats.html">update_footywire_stats</a></span>()
<span class="co">#&gt; Getting match ID's...</span>
<span class="co">#&gt; Downloading new data for 45 matches...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Checking Github</span>
<span class="co">#&gt; Getting data from footywire.com</span>
<span class="co">#&gt; Finished getting data</span>

<span class="kw">tail</span>(dat)
<span class="co">#&gt;             Date Season       Round Venue            Player        Team</span>
<span class="co">#&gt; 78931 2018-09-29   2018 Grand Final   MCG    Tyson Goldsack Collingwood</span>
<span class="co">#&gt; 78932 2018-09-29   2018 Grand Final   MCG         Mason Cox Collingwood</span>
<span class="co">#&gt; 78933 2018-09-29   2018 Grand Final   MCG   Brayden Maynard Collingwood</span>
<span class="co">#&gt; 78934 2018-09-29   2018 Grand Final   MCG Jaidyn Stephenson Collingwood</span>
<span class="co">#&gt; 78935 2018-09-29   2018 Grand Final   MCG    Levi Greenwood Collingwood</span>
<span class="co">#&gt; 78936 2018-09-29   2018 Grand Final   MCG        James Aish Collingwood</span>
<span class="co">#&gt;       Opposition Status Match_id CP UP ED   DE CM GA MI5 One.Percenters BO</span>
<span class="co">#&gt; 78931 West Coast   Away     9720  6  4  8 88.9  0  0   0              7  0</span>
<span class="co">#&gt; 78932 West Coast   Away     9720  6  4  6 66.7  3  0   3              7  0</span>
<span class="co">#&gt; 78933 West Coast   Away     9720  1  7  8 88.9  0  0   0              2  0</span>
<span class="co">#&gt; 78934 West Coast   Away     9720  3  5  7 77.8  0  0   0              0  0</span>
<span class="co">#&gt; 78935 West Coast   Away     9720  3  7  2 25.0  0  0   0              0  0</span>
<span class="co">#&gt; 78936 West Coast   Away     9720  4  4  5 71.4  0  0   0              0  0</span>
<span class="co">#&gt;       TOG K HB D M G B T HO GA1 I50 CL CG R50 FF FA AF SC CCL SCL SI  MG</span>
<span class="co">#&gt; 78931  90 1  8 9 0 0 0 3  0   0   0  0  0   1  1  0 32 53   0   0  0 -22</span>
<span class="co">#&gt; 78932  92 9  0 9 7 2 0 4  8   0   0  0  1   1  1  1 82 90   0   0  2 258</span>
<span class="co">#&gt; 78933  80 7  2 9 2 0 0 7  0   0   2  0  1   4  0  0 59 51   0   0  2 261</span>
<span class="co">#&gt; 78934  73 6  3 9 2 2 0 3  0   0   2  0  2   1  0  0 54 47   0   0  5 135</span>
<span class="co">#&gt; 78935  79 4  4 8 1 0 0 5  0   0   1  0  3   0  1  0 44 23   0   0  1  97</span>
<span class="co">#&gt; 78936  69 5  2 7 2 0 0 5  0   0   1  1  1   2  1  0 46 40   0   1  1 123</span>
<span class="co">#&gt;       TO ITC T5</span>
<span class="co">#&gt; 78931  1   6  0</span>
<span class="co">#&gt; 78932  4   1  1</span>
<span class="co">#&gt; 78933  4   1  0</span>
<span class="co">#&gt; 78934  2   1  3</span>
<span class="co">#&gt; 78935  3   1  1</span>
<span class="co">#&gt; 78936  2   4  1</span></code></pre></div>
</div>
<div id="weather" class="section level3">
<h3 class="hasAnchor">
<a href="#weather" class="anchor"></a>Weather</h3>
<p>We have also included weather data for the 2017 season. This is a work in progress but includes rainfall data from the nearest observation station to each ground. This data is included in the package as <code>results_weather</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(dplyr)

<span class="co"># Get 2017 weather data</span>
weather &lt;-<span class="st"> </span>fitzRoy<span class="op">::</span>results_weather <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(Season <span class="op">==</span><span class="st"> </span><span class="dv">2017</span>)

<span class="co"># Plot total rainfal for each home team</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="dt">dat =</span> weather, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> Home.Team, <span class="dt">y =</span> Rainfall)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_bar">geom_col</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/coord_flip">coord_flip</a></span>()</code></pre></div>
<p><img src="README-weather-1.png" width="700"></p>
</div>
<div id="squiggle-data" class="section level3">
<h3 class="hasAnchor">
<a href="#squiggle-data" class="anchor"></a>Squiggle Data</h3>
<p>You can access data from the <a href="api.squiggle.com.au">Squiggle API</a> where the tips of well known AFL tipping models are collected. See full instructions on the above link.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># You can get the sources</span>
sources &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_squiggle_data.html">get_squiggle_data</a></span>(<span class="st">"sources"</span>)
<span class="kw">head</span>(sources)
<span class="co">#&gt;   id                  name                                url</span>
<span class="co">#&gt; 1  1              Squiggle      https://live.squiggle.com.au/</span>
<span class="co">#&gt; 2  2               The Arc           https://thearcfooty.com/</span>
<span class="co">#&gt; 3  3        Figuring Footy          http://figuringfooty.com/</span>
<span class="co">#&gt; 4  4       Matter of Stats      http://www.matterofstats.com/</span>
<span class="co">#&gt; 5  5               Punters                                   </span>
<span class="co">#&gt; 6  6 Footy Maths Institute https://footymaths.blogspot.com.au</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get all tips</span>
tips &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_squiggle_data.html">get_squiggle_data</a></span>(<span class="st">"tips"</span>)
<span class="kw">head</span>(tips)  
<span class="co">#&gt;   year tipteamid   err ateamid gameid sourceid             updated</span>
<span class="co">#&gt; 1 2017        14 42.00      14      1        1 2017-07-11 13:59:46</span>
<span class="co">#&gt; 2 2017        14    NA      14      1        3 2017-04-10 12:18:02</span>
<span class="co">#&gt; 3 2017         3 48.39      14      1        4 2017-07-11 13:59:46</span>
<span class="co">#&gt; 4 2017        18  3.69      18      2        4 2017-07-11 13:59:46</span>
<span class="co">#&gt; 5 2017        18  3.00      18      2        1 2017-07-11 13:59:46</span>
<span class="co">#&gt; 6 2017         1 53.00       9      8        1 2017-07-11 13:59:46</span>
<span class="co">#&gt;   confidence                  ateam       hteam round margin hconfidence</span>
<span class="co">#&gt; 1       50.0               Richmond     Carlton     1   1.00        50.0</span>
<span class="co">#&gt; 2       58.0               Richmond     Carlton     1     NA        42.0</span>
<span class="co">#&gt; 3       56.7               Richmond     Carlton     1   5.39        56.7</span>
<span class="co">#&gt; 4       62.7       Western Bulldogs Collingwood     1  10.31        37.3</span>
<span class="co">#&gt; 5       62.0       Western Bulldogs Collingwood     1  17.00        38.0</span>
<span class="co">#&gt; 6       50.0 Greater Western Sydney    Adelaide     1   3.00        50.0</span>
<span class="co">#&gt;   hteamid         venue                date          source correct</span>
<span class="co">#&gt; 1       3        M.C.G. 2017-03-23 19:20:00        Squiggle       1</span>
<span class="co">#&gt; 2       3        M.C.G. 2017-03-23 19:20:00  Figuring Footy       1</span>
<span class="co">#&gt; 3       3        M.C.G. 2017-03-23 19:20:00 Matter of Stats       0</span>
<span class="co">#&gt; 4       4        M.C.G. 2017-03-24 19:50:00 Matter of Stats       1</span>
<span class="co">#&gt; 5       4        M.C.G. 2017-03-24 19:50:00        Squiggle       1</span>
<span class="co">#&gt; 6       1 Adelaide Oval 2017-03-26 15:20:00        Squiggle       1</span>
<span class="co">#&gt;      bits              tip</span>
<span class="co">#&gt; 1  0.0000         Richmond</span>
<span class="co">#&gt; 2  0.2141         Richmond</span>
<span class="co">#&gt; 3 -0.2076          Carlton</span>
<span class="co">#&gt; 4  0.3265 Western Bulldogs</span>
<span class="co">#&gt; 5  0.3103 Western Bulldogs</span>
<span class="co">#&gt; 6  0.0000         Adelaide</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get` just tips from round 1, 2018</span>
tips &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_squiggle_data.html">get_squiggle_data</a></span>(<span class="st">"tips"</span>, <span class="dt">round =</span> <span class="dv">1</span>, <span class="dt">year =</span> <span class="dv">2018</span>)
<span class="kw">head</span>(tips)
<span class="co">#&gt;     err                source gameid ateamid      tip hconfidence sourceid</span>
<span class="co">#&gt; 1 23.00              Squiggle    373       1 Adelaide       44.00        1</span>
<span class="co">#&gt; 2 21.00               The Arc    373       1 Adelaide       40.20        2</span>
<span class="co">#&gt; 3 21.78       Matter of Stats    373       1 Adelaide       40.50        4</span>
<span class="co">#&gt; 4    NA               Punters    373       1 Essendon       52.08        5</span>
<span class="co">#&gt; 5 33.00 Footy Maths Institute    373       1 Adelaide       34.00        6</span>
<span class="co">#&gt; 6 20.00            PlusSixOne    373       1 Adelaide       44.84        7</span>
<span class="co">#&gt;   correct     venue    hteam confidence hteamid year                date</span>
<span class="co">#&gt; 1       0 Docklands Essendon      56.00       5 2018 2018-03-23 19:50:00</span>
<span class="co">#&gt; 2       0 Docklands Essendon      59.80       5 2018 2018-03-23 19:50:00</span>
<span class="co">#&gt; 3       0 Docklands Essendon      59.50       5 2018 2018-03-23 19:50:00</span>
<span class="co">#&gt; 4       1 Docklands Essendon      52.08       5 2018 2018-03-23 19:50:00</span>
<span class="co">#&gt; 5       0 Docklands Essendon      66.00       5 2018 2018-03-23 19:50:00</span>
<span class="co">#&gt; 6       0 Docklands Essendon      55.16       5 2018 2018-03-23 19:50:00</span>
<span class="co">#&gt;   tipteamid    bits round             updated margin    ateam</span>
<span class="co">#&gt; 1         1 -0.1844     1 2018-03-23 22:54:38  11.00 Adelaide</span>
<span class="co">#&gt; 2         1 -0.3147     1 2018-03-23 22:54:38   9.00 Adelaide</span>
<span class="co">#&gt; 3         1 -0.3040     1 2018-03-23 22:54:38   9.78 Adelaide</span>
<span class="co">#&gt; 4         5  0.0588     1 2018-03-23 22:54:38     NA Adelaide</span>
<span class="co">#&gt; 5         1 -0.5564     1 2018-03-23 22:54:38  21.00 Adelaide</span>
<span class="co">#&gt; 6         1 -0.1571     1 2018-03-23 22:54:38   8.00 Adelaide</span></code></pre></div>
<hr>
</div>
</div>
<div id="docker-support" class="section level2">
<h2 class="hasAnchor">
<a href="#docker-support" class="anchor"></a>Docker Support</h2>
<p>fitzRoy now provides <a href="https://www.docker.com/get-started">Docker</a> support in the form of an image hosted on <a href="https://hub.docker.com/r/jimmyday12/fitzroy/">DockerHub</a>.</p>
<div id="usage-1" class="section level3">
<h3 class="hasAnchor">
<a href="#usage-1" class="anchor"></a>Usage</h3>
<p>Once you have the images, (e.g. <code>docker pull jimmyday12/fitzroy:latest</code>) run one of the following commands.</p>
<ul>
<li>To start <a href="https://www.rstudio.com/">RStudio</a> with Fitzroy ready to use:</li>
<li>
<code>docker run -d -p 8787:8787 --name fitzroy jimmyday12/fitzroy:latest</code> and open <a href="http://localhost:8787" class="uri">http://localhost:8787</a>. *(Username: <code>rstudio</code>, Password: <code>rstudio</code>)</li>
<li>To start an R terminal prompt with fitzRoy ready to use:</li>
<li>
<code>docker run -it jimmyday12/fitzroy:latest R</code> to start with an R terminal prompt.</li>
<li>Run <code>quit()</code> to exit the container</li>
</ul>
</div>
<div id="building-the-image-locally" class="section level3">
<h3 class="hasAnchor">
<a href="#building-the-image-locally" class="anchor"></a>Building the image locally</h3>
<p>To build the Docker image run the following from the root of the repository. * <code>docker build -t jimmyday12/fitzroy:latest -f docker/rstudio/Dockerfile .</code></p>
<hr>
<p>Please note that this project is released with a <a href="CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/jimmyday12/fitzRoy">https://​github.com/​jimmyday12/​fitzRoy</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jimmyday12/fitzRoy/issues">https://​github.com/​jimmyday12/​fitzRoy/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>James Day <br><small class="roles"> Maintainer, author </small>  </li>
<li>Robert Nguyen <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/jimmyday12/fitzRoy"><img src="https://travis-ci.org/jimmyday12/fitzRoy.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/github/jimmyday12/FitzRoy?branch=master"><img src="https://codecov.io/gh/jimmyday12/FitzRoy/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="commits/master"><img src="https://img.shields.io/badge/Package%20version-0.1.7-orange.svg?style=flat-square" alt="packageversion"></a></li>
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status"></a></li>
<li><a href="/commits/master"><img src="https://img.shields.io/badge/last%20change-2018--10--03-yellowgreen.svg" alt="Last-changedate"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by James Day, Robert Nguyen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
