<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easily Scrape and Process AFL Data • fitzRoy</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Easily Scrape and Process AFL Data">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-77406420-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-77406420-2');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fitzRoy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/elo-ratings-example.html">ELO Ratings Example</a>
    </li>
    <li>
      <a href="../articles/readme-vignette.html">Easily Scrape and Process AFL Data</a>
    </li>
    <li>
      <a href="../articles/womens-stats.html">Womens' AFL Stats</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jimmyday12/fitzRoy">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Easily Scrape and Process AFL Data</h1>
                        <h4 class="author">James Day</h4>
            
            <h4 class="date">2019-01-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jimmyday12/fitzRoy/blob/master/vignettes/readme-vignette.Rmd"><code>vignettes/readme-vignette.Rmd</code></a></small>
      <div class="hidden name"><code>readme-vignette.Rmd</code></div>

    </div>

    
    
<!-- This vignette was automatically created from README.Rmd -->
<div id="fitzroy" class="section level1">
<h1 class="hasAnchor">
<a href="#fitzroy" class="anchor"></a>fitzRoy <img src="../man/figures/fitz_hex.png" align="right" width="120" height="139">
</h1>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The goal of fitzRoy is to provide a set of functions that allows for users to easily get access to AFL data from sources such as afltables.com and footywire.com. There are also tools for processing and cleaning that data. Future versions will include basic ELO processing functions.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install fitzRoy from github with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"jimmyday12/fitzRoy"</span>)</a></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The <code>fitzRoy</code> package can be used to simply get data from various sources. Some minimal working examples are below.</p>
<div id="getting-data" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-data" class="anchor"></a>Getting Data</h3>
<p>Primarily, the tool can be used to access data from various sources. Data is included in the package and can be access directly however this will not be up to date. Each source of data has functions for updating data during the season.</p>
</div>
<div id="afl-tables-match-results" class="section level3">
<h3 class="hasAnchor">
<a href="#afl-tables-match-results" class="anchor"></a>AFL Tables match results</h3>
<p>You can access the basic afl tables match results data. This includes all matches from 1897-current. It is generally updated on the day after a round finishes.</p>
<p>You can access the data directly from the package using <code>match_results</code>. This will be updated periodically but you will need to update your R package to get access to the latest data. It is better to use <code>get_match_results</code> directly, as this will give you up to date results.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(fitzRoy)</a>
<a class="sourceLine" id="cb2-2" title="2">results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_match_results.html">get_match_results</a></span>()</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">tail</a></span>(results)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 16
##    Game Date       Round Home.Team Home.Goals Home.Behinds Home.Points
##   &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;          &lt;int&gt;        &lt;int&gt;       &lt;int&gt;
## 1 15402 2018-09-08 QF    West Coa…         12           14          86
## 2 15403 2018-09-14 SF    Melbourne         16            8         104
## 3 15404 2018-09-15 SF    Collingw…          9           15          69
## 4 15405 2018-09-21 PF    Collingw…         15            7          97
## 5 15406 2018-09-22 PF    West Coa…         18           13         121
## # … with 1 more row, and 9 more variables: Away.Team &lt;chr&gt;,
## #   Away.Goals &lt;int&gt;, Away.Behinds &lt;int&gt;, Away.Points &lt;int&gt;, Venue &lt;chr&gt;,
## #   Margin &lt;int&gt;, Season &lt;dbl&gt;, Round.Type &lt;chr&gt;, Round.Number &lt;int&gt;</code></pre>
<p>You can also convert this format into a more analysis friendly “long” format using the helper function <code>convert_results</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">results_long &lt;-<span class="st"> </span><span class="kw"><a href="../reference/convert_results.html">convert_results</a></span>(results)</a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(results_long)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 13
##    Game Date       Round Venue Margin Season Round.Type Round.Number Status
##   &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;             &lt;int&gt; &lt;chr&gt; 
## 1     1 1897-05-08 R1    Brun…     33   1897 Regular               1 Home  
## 2     1 1897-05-08 R1    Brun…    -33   1897 Regular               1 Away  
## 3     2 1897-05-08 R1    Vict…     25   1897 Regular               1 Home  
## 4     2 1897-05-08 R1    Vict…    -25   1897 Regular               1 Away  
## 5     3 1897-05-08 R1    Cori…    -23   1897 Regular               1 Home  
## # … with 1 more row, and 4 more variables: Behinds &lt;chr&gt;, Goals &lt;chr&gt;,
## #   Points &lt;chr&gt;, Team &lt;chr&gt;</code></pre>
</div>
<div id="afl-tables-player-results" class="section level3">
<h3 class="hasAnchor">
<a href="#afl-tables-player-results" class="anchor"></a>AFL Tables player results</h3>
<p>A new function will return all detailed player stats from afltables.com. Primarily, the easiest way to use this is simply to call <code>get_afltables_stats</code> with your required <code>start_date</code> and <code>end_date</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">stats &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_afltables_stats.html">get_afltables_stats</a></span>(<span class="dt">start_date =</span> <span class="st">"2000-01-01"</span>, <span class="dt">end_date =</span> <span class="st">"2018-06-01"</span>)</a></code></pre></div>
<pre><code>## Returning data from 2000-01-01 to 2018-06-01</code></pre>
<pre><code>## Finished getting afltables data</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">tail</a></span>(stats)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 59
##   Season Round Date       Local.start.time Venue Attendance Home.team  HQ1G
##    &lt;dbl&gt; &lt;chr&gt; &lt;date&gt;                &lt;int&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;     &lt;int&gt;
## 1   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3
## 2   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3
## 3   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3
## 4   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3
## 5   2018 10    2018-05-27             1440 "Per…      37575 Fremantle     3
## # … with 1 more row, and 51 more variables: HQ1B &lt;int&gt;, HQ2G &lt;int&gt;,
## #   HQ2B &lt;int&gt;, HQ3G &lt;int&gt;, HQ3B &lt;int&gt;, HQ4G &lt;int&gt;, HQ4B &lt;int&gt;,
## #   Home.score &lt;int&gt;, Away.team &lt;chr&gt;, AQ1G &lt;int&gt;, AQ1B &lt;int&gt;, AQ2G &lt;int&gt;,
## #   AQ2B &lt;int&gt;, AQ3G &lt;int&gt;, AQ3B &lt;int&gt;, AQ4G &lt;int&gt;, AQ4B &lt;int&gt;,
## #   Away.score &lt;int&gt;, First.name &lt;chr&gt;, Surname &lt;chr&gt;, ID &lt;int&gt;,
## #   Jumper.No. &lt;dbl&gt;, Playing.for &lt;chr&gt;, Kicks &lt;dbl&gt;, Marks &lt;dbl&gt;,
## #   Handballs &lt;dbl&gt;, Goals &lt;dbl&gt;, Behinds &lt;dbl&gt;, Hit.Outs &lt;dbl&gt;,
## #   Tackles &lt;dbl&gt;, Rebounds &lt;dbl&gt;, Inside.50s &lt;dbl&gt;, Clearances &lt;dbl&gt;,
## #   Clangers &lt;dbl&gt;, Frees.For &lt;dbl&gt;, Frees.Against &lt;dbl&gt;,
## #   Brownlow.Votes &lt;dbl&gt;, Contested.Possessions &lt;dbl&gt;,
## #   Uncontested.Possessions &lt;dbl&gt;, Contested.Marks &lt;dbl&gt;,
## #   Marks.Inside.50 &lt;dbl&gt;, One.Percenters &lt;dbl&gt;, Bounces &lt;dbl&gt;,
## #   Goal.Assists &lt;dbl&gt;, Time.on.Ground.. &lt;int&gt;, Substitute &lt;int&gt;,
## #   Umpire.1 &lt;chr&gt;, Umpire.2 &lt;chr&gt;, Umpire.3 &lt;chr&gt;, Umpire.4 &lt;chr&gt;,
## #   group_id &lt;int&gt;</code></pre>
</div>
<div id="fixture" class="section level3">
<h3 class="hasAnchor">
<a href="#fixture" class="anchor"></a>Fixture</h3>
<p>You can access the fixture using <code>get_fixture</code> function. This will download the fixture for the current calendar year by default.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">fixture &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_fixture.html">get_fixture</a></span>()</a>
<a class="sourceLine" id="cb11-2" title="2"></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(fixture)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 7
##   Date                Season Season.Game Round Home.Team  Away.Team  Venue 
##   &lt;dttm&gt;               &lt;int&gt;       &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt; 
## 1 2019-03-21 19:20:00   2019           1     1 Carlton    Richmond   MCG   
## 2 2019-03-22 19:50:00   2019           1     1 Collingwo… Geelong    MCG   
## 3 2019-03-23 13:45:00   2019           1     1 Melbourne  Port Adel… MCG   
## 4 2019-03-23 16:05:00   2019           1     1 Adelaide   Hawthorn   Adela…
## 5 2019-03-23 19:20:00   2019           1     1 Brisbane … West Coast Gabba 
## # … with 1 more row</code></pre>
</div>
<div id="footywire-advanced-player-stats" class="section level3">
<h3 class="hasAnchor">
<a href="#footywire-advanced-player-stats" class="anchor"></a>Footywire Advanced Player Stats</h3>
<p>Footywire data is available in the form of advanced player match statistics from 2010 games onwards. This is when advanced statistics became available.</p>
<p>Footywire data from 2010-2017 is included in the package. This will be updated periodically but you will need to update your R package to get access to the latest data.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co">## Show the top of player_stats</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(fitzRoy<span class="op">::</span>player_stats)</a></code></pre></div>
<pre><code>##         Date Season   Round Venue         Player     Team Opposition
## 1 2010-03-25   2010 Round 1   MCG Daniel Connors Richmond    Carlton
## 2 2010-03-25   2010 Round 1   MCG Daniel Jackson Richmond    Carlton
## 3 2010-03-25   2010 Round 1   MCG  Brett Deledio Richmond    Carlton
## 4 2010-03-25   2010 Round 1   MCG    Ben Cousins Richmond    Carlton
## 5 2010-03-25   2010 Round 1   MCG  Trent Cotchin Richmond    Carlton
## 6 2010-03-25   2010 Round 1   MCG  Dustin Martin Richmond    Carlton
##   Status Match_id CP UP ED   DE CM GA MI5 One.Percenters BO TOG  K HB  D M
## 1   Home     5089  8 15 16 66.7  0  0   0              1  0  69 14 10 24 3
## 2   Home     5089 11 10 14 60.9  1  0   0              0  0  80 11 12 23 2
## 3   Home     5089  7 14 16 76.2  0  0   0              0  0  89 12  9 21 5
## 4   Home     5089  9 10 11 57.9  0  1   0              0  0  69 13  6 19 1
## 5   Home     5089  8 10 13 68.4  1  0   0              0  1  77 11  8 19 6
## 6   Home     5089  6 12 16 88.9  0  0   0              1  0  81  5 13 18 4
##   G B T HO GA1 I50 CL CG R50 FF FA AF SC CCL SCL SI MG TO ITC T5
## 1 0 0 1  0   0   2  2  4   6  2  0 77 85  NA  NA NA NA NA  NA NA
## 2 0 0 5  0   0   8  5  4   1  2  0 85 89  NA  NA NA NA NA  NA NA
## 3 1 0 6  0   0   4  3  4   3  1  2 94 93  NA  NA NA NA NA  NA NA
## 4 1 0 1  0   1   1  2  3   4  1  0 65 70  NA  NA NA NA NA  NA NA
## 5 0 0 1  0   0   2  3  3   2  0  2 65 63  NA  NA NA NA NA  NA NA
## 6 0 0 3  0   0   2  3  1   0  0  1 62 72  NA  NA NA NA NA  NA NA</code></pre>
<p>We can also use the <code>update_footywire_stats</code> function to get the most up to date data. This will merge data from 2010-current with any new data points.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co">## Update footywire data</span></a>
<a class="sourceLine" id="cb15-2" title="2">dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/update_footywire_stats.html">update_footywire_stats</a></span>()</a></code></pre></div>
<pre><code>## Getting match ID's...</code></pre>
<pre><code>## Downloading new data for 9 matches...</code></pre>
<pre><code>## 
## Checking Github</code></pre>
<pre><code>## Finished getting data</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">tail</a></span>(dat)</a></code></pre></div>
<pre><code>##             Date Season    Round Venue          Player Team Opposition
## 80515 2018-08-26   2018 Round 23   MCG       Rory Lobb  GWS  Melbourne
## 80516 2018-08-26   2018 Round 23   MCG     Samuel Reid  GWS  Melbourne
## 80517 2018-08-26   2018 Round 23   MCG  Lachlan Keeffe  GWS  Melbourne
## 80518 2018-08-26   2018 Round 23   MCG Matthew Buntine  GWS  Melbourne
## 80519 2018-08-26   2018 Round 23   MCG     Zac Langdon  GWS  Melbourne
## 80520 2018-08-26   2018 Round 23   MCG    Daniel Lloyd  GWS  Melbourne
##       Status Match_id CP UP ED   DE CM GA MI5 One.Percenters BO TOG K HB
## 80515   Away     9709  2  7  7 70.0  0  0   1              9  0  67 7  3
## 80516   Away     9709  4  5  6 66.7  2  1   2              0  0  75 4  5
## 80517   Away     9709  1  8  6 75.0  0  0   0              6  0  88 2  6
## 80518   Away     9709  4  5  6 75.0  1  0   0              4  0  79 4  4
## 80519   Away     9709  4  4  6 75.0  0  0   1              0  0  76 3  5
## 80520   Away     9709  0  9  6 85.7  0  0   0              1  0  80 5  2
##        D M G B T HO GA1 I50 CL CG R50 FF FA AF SC CCL SCL SI  MG TO ITC T5
## 80515 10 4 1 0 2 12   0   3  1  0   1  1  0 66 91   0   1  4 225  1   0  0
## 80516  9 6 0 1 5  0   1   2  0  0   0  0  0 61 54   0   0  4 123  2   1  2
## 80517  8 3 0 0 0  1   0   0  0  1   3  0  0 28 35   0   0  0  82  2   2  0
## 80518  8 2 0 0 1  0   0   1  0  1   2  1  0 31 41   0   0  0 174  2   3  0
## 80519  8 2 1 0 2  0   0   2  0  3   0  1  3 31 25   0   0  1 110  4   1  0
## 80520  7 5 0 0 1  0   0   1  0  1   0  0  1 35 30   0   0  2 164  1   0  0</code></pre>
</div>
<div id="weather" class="section level3">
<h3 class="hasAnchor">
<a href="#weather" class="anchor"></a>Weather</h3>
<p>We have also included weather data for the 2017 season. This is a work in progress but includes rainfall data from the nearest observation station to each ground. This data is included in the package as <code>results_weather</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb22-3" title="3"></a>
<a class="sourceLine" id="cb22-4" title="4"><span class="co"># Get 2017 weather data</span></a>
<a class="sourceLine" id="cb22-5" title="5">weather &lt;-<span class="st"> </span>fitzRoy<span class="op">::</span>results_weather <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-6" title="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(Season <span class="op">==</span><span class="st"> </span><span class="dv">2017</span>)</a>
<a class="sourceLine" id="cb22-7" title="7"></a>
<a class="sourceLine" id="cb22-8" title="8"><span class="co"># Plot total rainfal for each home team</span></a>
<a class="sourceLine" id="cb22-9" title="9">ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">dat =</span> weather, ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> Home.Team, <span class="dt">y =</span> Rainfall)) <span class="op">+</span></a>
<a class="sourceLine" id="cb22-10" title="10"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-11" title="11"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span>()</a></code></pre></div>
<p><img src="readme-vignette_files/figure-html/weather-1.png" width="700"></p>
</div>
<div id="squiggle-data" class="section level3">
<h3 class="hasAnchor">
<a href="#squiggle-data" class="anchor"></a>Squiggle Data</h3>
<p>You can access data from the <a href="api.squiggle.com.au">Squiggle API</a> where the tips of well known AFL tipping models are collected. See full instructions on the above link.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="co"># You can get the sources</span></a>
<a class="sourceLine" id="cb23-2" title="2">sources &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_squiggle_data.html">get_squiggle_data</a></span>(<span class="st">"sources"</span>)</a>
<a class="sourceLine" id="cb23-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(sources)</a></code></pre></div>
<pre><code>##                    name                                url id
## 1              Squiggle      https://live.squiggle.com.au/  1
## 2               The Arc           https://thearcfooty.com/  2
## 3        Figuring Footy          http://figuringfooty.com/  3
## 4       Matter of Stats      http://www.matterofstats.com/  4
## 5               Punters                                     5
## 6 Footy Maths Institute https://footymaths.blogspot.com.au  6</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="co"># Get all tips</span></a>
<a class="sourceLine" id="cb25-2" title="2">tips &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_squiggle_data.html">get_squiggle_data</a></span>(<span class="st">"tips"</span>)</a>
<a class="sourceLine" id="cb25-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(tips)  </a></code></pre></div>
<pre><code>##   tipteamid             updated   err                  ateam confidence
## 1        14 2017-07-11 13:59:46 42.00               Richmond       50.0
## 2        14 2017-04-10 12:18:02    NA               Richmond       58.0
## 3         3 2017-07-11 13:59:46 48.39               Richmond       56.7
## 4        18 2017-07-11 13:59:46  3.69       Western Bulldogs       62.7
## 5        18 2017-07-11 13:59:46  3.00       Western Bulldogs       62.0
## 6         1 2017-07-11 13:59:46 53.00 Greater Western Sydney       50.0
##   correct hconfidence              tip       hteam          source round
## 1       1        50.0         Richmond     Carlton        Squiggle     1
## 2       1        42.0         Richmond     Carlton  Figuring Footy     1
## 3       0        56.7          Carlton     Carlton Matter of Stats     1
## 4       1        37.3 Western Bulldogs Collingwood Matter of Stats     1
## 5       1        38.0 Western Bulldogs Collingwood        Squiggle     1
## 6       1        50.0         Adelaide    Adelaide        Squiggle     1
##   sourceid ateamid margin         venue year                date    bits
## 1        1      14   1.00        M.C.G. 2017 2017-03-23 19:20:00  0.0000
## 2        3      14     NA        M.C.G. 2017 2017-03-23 19:20:00  0.2141
## 3        4      14   5.39        M.C.G. 2017 2017-03-23 19:20:00 -0.2076
## 4        4      18  10.31        M.C.G. 2017 2017-03-24 19:50:00  0.3265
## 5        1      18  17.00        M.C.G. 2017 2017-03-24 19:50:00  0.3103
## 6        1       9   3.00 Adelaide Oval 2017 2017-03-26 15:20:00  0.0000
##   hteamid gameid
## 1       3      1
## 2       3      1
## 3       3      1
## 4       4      2
## 5       4      2
## 6       1      8</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="co"># Get` just tips from round 1, 2018</span></a>
<a class="sourceLine" id="cb27-2" title="2">tips &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_squiggle_data.html">get_squiggle_data</a></span>(<span class="st">"tips"</span>, <span class="dt">round =</span> <span class="dv">1</span>, <span class="dt">year =</span> <span class="dv">2018</span>)</a>
<a class="sourceLine" id="cb27-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(tips)</a></code></pre></div>
<pre><code>##       venue round    bits   err margin hteamid correct hconfidence year
## 1 Docklands     1 -0.1844 23.00  11.00       5       0       44.00 2018
## 2 Docklands     1 -0.3147 21.00   9.00       5       0       40.20 2018
## 3 Docklands     1 -0.3040 21.78   9.78       5       0       40.50 2018
## 4 Docklands     1  0.0588    NA     NA       5       1       52.08 2018
## 5 Docklands     1 -0.5564 33.00  21.00       5       0       34.00 2018
## 6 Docklands     1 -0.1571 20.00   8.00       5       0       44.84 2018
##        tip                date                source    ateam gameid
## 1 Adelaide 2018-03-23 19:50:00              Squiggle Adelaide    373
## 2 Adelaide 2018-03-23 19:50:00               The Arc Adelaide    373
## 3 Adelaide 2018-03-23 19:50:00       Matter of Stats Adelaide    373
## 4 Essendon 2018-03-23 19:50:00               Punters Adelaide    373
## 5 Adelaide 2018-03-23 19:50:00 Footy Maths Institute Adelaide    373
## 6 Adelaide 2018-03-23 19:50:00            PlusSixOne Adelaide    373
##      hteam confidence             updated ateamid tipteamid sourceid
## 1 Essendon      56.00 2018-03-23 22:54:38       1         1        1
## 2 Essendon      59.80 2018-03-23 22:54:38       1         1        2
## 3 Essendon      59.50 2018-03-23 22:54:38       1         1        4
## 4 Essendon      52.08 2018-03-23 22:54:38       1         5        5
## 5 Essendon      66.00 2018-03-23 22:54:38       1         1        6
## 6 Essendon      55.16 2018-03-23 22:54:38       1         1        7</code></pre>
<hr>
</div>
</div>
<div id="docker-support" class="section level2">
<h2 class="hasAnchor">
<a href="#docker-support" class="anchor"></a>Docker Support</h2>
<p>fitzRoy now provides <a href="https://www.docker.com/get-started">Docker</a> support in the form of an image hosted on <a href="https://hub.docker.com/r/jimmyday12/fitzroy/">DockerHub</a>.</p>
<div id="usage-1" class="section level3">
<h3 class="hasAnchor">
<a href="#usage-1" class="anchor"></a>Usage</h3>
<p>Once you have the images, (e.g. <code>docker pull jimmyday12/fitzroy:latest</code>) run one of the following commands.</p>
<ul>
<li>To start <a href="https://www.rstudio.com/">RStudio</a> with Fitzroy ready to use:
<ul>
<li>
<code>docker run -d -p 8787:8787 --name fitzroy jimmyday12/fitzroy:latest</code> and open <a href="http://localhost:8787" class="uri">http://localhost:8787</a>. *(Username: <code>rstudio</code>, Password: <code>rstudio</code>)</li>
</ul>
</li>
<li>To start an R terminal prompt with fitzRoy ready to use:
<ul>
<li>
<code>docker run -it jimmyday12/fitzroy:latest R</code> to start with an R terminal prompt.</li>
<li>Run <code><a href="https://www.rdocumentation.org/packages/base/topics/quit">quit()</a></code> to exit the container</li>
</ul>
</li>
</ul>
</div>
<div id="building-the-image-locally" class="section level3">
<h3 class="hasAnchor">
<a href="#building-the-image-locally" class="anchor"></a>Building the image locally</h3>
<p>To build the Docker image run the following from the root of the repository.</p>
<ul>
<li><code>docker build -t jimmyday12/fitzroy:latest -f docker/rstudio/Dockerfile .</code></li>
</ul>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#fitzroy">fitzRoy <img src="../man/figures/fitz_hex.png" align="right" width="120" height="139"></a><ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#usage">Usage</a></li>
      <li><a href="#docker-support">Docker Support</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by James Day, Robert Nguyen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
